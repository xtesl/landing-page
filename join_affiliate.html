<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Affiliate Program</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f9f9f9;
    padding-top: 20px;
  }
  
  .container {
    background-color: white;
    border-radius: 10px;
    padding: 30px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
  }
  
  h1 {
    color: #37517e;
  }
  
  p {
    color: #666;
    margin-bottom: 20px;
  }
  
  .form-group input {
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    transition: border-color 0.3s;
  }
  
  .form-group input:focus {
    border-color: #37517e;
  }
  
  .btn {
    background-color: #37517e;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  
  .btn:hover {
    background-color: #1e2e42;
  }
  
  .note {
    color: #888;
    font-size: 0.9em;
    margin-top: 20px;
  }

  /* Footer styles */
  .footer {
    background-color: #37517e;
    color: white;
    padding: 20px;
    text-align: center;
    box-sizing: border-box;
  }
</style>
</head>
<body>

<div class="container">
    <div class="alert alert-danger" role="alert" id="alert" style="display: none;">
        You are not eligible to join the program

      </div>
  <h1 class="text-center">Affiliate Program</h1>
  <p class="text-center">Join our affiliate program and start earning commissions today!</p>
  <p class="note text-center">Please note: You can only join the affiliate program after purchasing our Affiliate Course on the platform.</p>
  <form action="#" method="post">
    <div class="mb-3">
      <input type="text" class="form-control" name="fullname" id="fullname" placeholder="Full Name" required>
    </div>
    <div class="mb-3">
      <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required>
    </div>
    <div class="mb-3">
      <input type="text" class="form-control" name="website" placeholder="Website (Optional)">
    </div>
    <button type="button" class="btn btn-primary btn-block">Join Now</button>
  </form>
</div>

<footer class="footer">
  <p style="color: white;">&copy; 2024 Greater Grace Institute. All rights reserved.</p>
</footer>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.1/firebase-app.js";
    import { getDatabase, get, ref, child, set} from "https://www.gstatic.com/firebasejs/10.11.1/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBs6eNM7ig2Yaly16j1a3FIo70RyyrSYvU",
      authDomain: "learnify-419911.firebaseapp.com",
      projectId: "learnify-419911",
      storageBucket: "learnify-419911.appspot.com",
      messagingSenderId: "600218874857",
      appId: "1:600218874857:web:2d65e1d3e68b840938d178",
      measurementId: "G-M8PS7BKZL0"
    };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase();
    const dbref = ref(db);
    const credential = JSON.parse(localStorage.getItem('credential'));
    const alert = document.getElementById('alert');
    email = document.getElementById('email').value.trim();
    fullname = document.getElementById('fullname').value.trim();

  const get_info = function() {get(child(dbref, 'users/' + credential.user.uid)).then((snapshot)=>{
               if(snapshot.exists){
                if(snapshot.val().courses.affiliate){
                }else{
                    if(!fullname || !email){
                        alert.innerText = 'Please fill the forms';
                    alert.style.display = 'block';

                    }
                }
             
               }
            }).catch((err)=>{
              console.log(err.message);
            });
        }
    
 const join_button = document.querySelector('button[type="button"]');
 join_button.addEventListener('click', get_info);
    
  </script>
</body>
</html>
